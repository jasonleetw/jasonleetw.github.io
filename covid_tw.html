<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
  <title>COVID-19 amcharts</title>
  <meta charset="utf-8" />
  <style>
    #chartdiv_0042 {
      width: 80%;
      height: 500px;
    }

    #day_chartdiv_TW {
      width: 80%;
      height: 500px;
    }
  </style>

  <!-- Resources -->
  <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/themes/dataviz.js"></script>
  <script src="covid_tw.min.js"></script>

  <!-- Chart code -->
  <script>

    am4core.ready(function () {
      am4core.useTheme(am4themes_dataviz);
      am4core.useTheme(am4themes_animated);

      var chart0042 = am4core.create("chartdiv_0042", am4charts.XYChart);
      chart0042.data = data_1;
      var categoryAxis = chart0042.xAxes.push(new am4charts.CategoryAxis);
      categoryAxis.dataFields.category = "year";
      var valueAxis = chart0042.yAxes.push(new am4charts.ValueAxis);
      valueAxis.renderer.minLabelPosition = 0;
      valueAxis.min = 1;
      var title = chart0042.titles.create();
      title.text = "台灣 COVID-19 疫情資料彙整 (2021/05/14~2021/05/30)";
      title.fontSize = 16;
      title.marginBottom = 0;

      var series1 = chart0042.series.push(new am4charts.LineSeries);
      series1.dataFields.valueY = "Confirmed";
      series1.dataFields.categoryX = "year";
      series1.name = "累計確診";
      series1.tooltipText = "{name}: {valueY}";
      series1.strokeWidth = 4;
      series1.stroke = am4core.color("#28a745");
      var bullet1 = series1.bullets.push(new am4charts.CircleBullet);
      bullet1.circle.strokeWidth = 1.6;
      bullet1.circle.radius = 1.6;
      bullet1.circle.fill = am4core.color("#fff");
      var bullethover1 = bullet1.states.create("hover");
      bullethover1.properties.scale = 4;
      var series2 = chart0042.series.push(new am4charts.LineSeries);
      series2.dataFields.valueY = "Deaths";
      series2.dataFields.categoryX = "year";
      series2.name = "累計死亡";
      series2.tooltipText = "{name}: {valueY}";
      series2.strokeWidth = 4;
      series2.stroke = am4core.color("#000000");
      var bullet2 = series2.bullets.push(new am4charts.CircleBullet);
      bullet2.circle.strokeWidth = 1.6;
      bullet2.circle.radius = 1.6;
      bullet2.circle.fill = am4core.color("#fff");
      var bullethover2 = bullet2.states.create("hover");
      bullethover2.properties.scale = 4;
      var series3 = chart0042.series.push(new am4charts.LineSeries);
      series3.dataFields.valueY = "Recovered";
      series3.dataFields.categoryX = "year";
      series3.name = "解除隔離";
      series3.tooltipText = "{name}: {valueY}";
      series3.strokeWidth = 4;
      series3.stroke = am4core.color("#0099cc");
      var bullet3 = series3.bullets.push(new am4charts.CircleBullet);
      bullet3.circle.strokeWidth = 1.6;
      bullet3.circle.radius = 1.6;
      bullet3.circle.fill = am4core.color("#fff");
      var bullethover3 = bullet3.states.create("hover");
      bullethover3.properties.scale = 4;
      var series4 = chart0042.series.push(new am4charts.LineSeries);
      series4.dataFields.valueY = "Active";
      series4.dataFields.categoryX = "year";
      series4.name = "尚在隔離";
      series4.tooltipText = "{name}: {valueY}";
      series4.strokeWidth = 4;
      series4.stroke = am4core.color("#ff0000");
      var bullet4 = series4.bullets.push(new am4charts.CircleBullet);
      bullet4.circle.strokeWidth = 1.6;
      bullet4.circle.radius = 1.6;
      bullet4.circle.fill = am4core.color("#fff");
      var bullethover4 = bullet4.states.create("hover");
      bullethover4.properties.scale = 4;
      chart0042.cursor = new am4charts.XYCursor;
      chart0042.cursor.behavior = "none";
      chart0042.legend = new am4charts.Legend;
    });

    am4core.ready(function () {
      am4core.useTheme(am4themes_dataviz);
      am4core.useTheme(am4themes_animated);
      var day_chartTW = am4core.create("day_chartdiv_TW", am4charts.XYChart);
      day_chartTW.data = data_2;
      var categoryAxis = day_chartTW.xAxes.push(new am4charts.CategoryAxis);
      categoryAxis.dataFields.category = "year";
      categoryAxis.renderer.minGridDistance = 100;
      var valueAxis = day_chartTW.yAxes.push(new am4charts.ValueAxis);
      var title = day_chartTW.titles.create();
      title.text = "台灣 COVID-19 疫情每日新增確診數 (2021/05/14~2021/05/30)";
      title.fontSize = 16;
      title.marginBottom = 0;
      var columnSeries = day_chartTW.series.push(new am4charts.ColumnSeries);
      columnSeries.name = "新增確診";
      columnSeries.dataFields.valueY = "barValue";
      columnSeries.dataFields.categoryX = "year";
      // columnSeries.columns.template.tooltipText = "[#fff font-size: 12px]{name}: [/][#fff font-size: 12px]{valueY}[/] [#fff]{additional}[/]";
      columnSeries.columns.template.tooltipText = "[#fff]{name}: [/][#fff]{valueY}[/] [#fff]{additional}[/]";

      columnSeries.columns.template.tooltipX = am4core.percent(0);
      columnSeries.columns.template.tooltipY = am4core.percent(0);
      columnSeries.columns.template.propertyFields.fillOpacity = "fillOpacity";
      columnSeries.columns.template.propertyFields.stroke = "stroke";
      columnSeries.columns.template.propertyFields.strokeWidth = "strokeWidth";
      columnSeries.columns.template.propertyFields.strokeDasharray = "columnDash";
      columnSeries.tooltip.label.textAlign = "middle";

      var lineSeries = day_chartTW.series.push(new am4charts.LineSeries);
      lineSeries.name = "七天移動平均值";
      lineSeries.dataFields.valueY = "lineValue";
      lineSeries.dataFields.categoryX = "year";
      lineSeries.stroke = am4core.color("#28a745");
      lineSeries.strokeWidth = 3;
      lineSeries.propertyFields.strokeDasharray = "lineDash";
      lineSeries.tooltip.label.textAlign = "middle";
      var bullet = lineSeries.bullets.push(new am4charts.Bullet);
      bullet.fill = am4core.color("#28a745");
      bullet.tooltipText = "[#fff]{name}: [/][#fff]{valueY}[/] [#fff]{additional}[/]";

      var circle = bullet.createChild(am4core.Circle);
      circle.radius = 3;
      circle.fill = am4core.color("#fff");
      circle.strokeWidth = 1;
      day_chartTW.legend = new am4charts.Legend;
      day_chartTW.cursor = new am4charts.XYCursor;
      day_chartTW.cursor.xAxis = dateAxis;
      day_chartTW.scrollbarX = new am4core.Scrollbar
    });
  </script>
</head>

<body>

  <h3>台灣COVID-19 疫情發展累計圖</h3>
  <div id="chartdiv_0042"></div>
  <br><br>
  <h3>台灣COVID-19 疫情每日統計圖</h3>
  <div id="day_chartdiv_TW"></div><br><br>

</body>

</html>